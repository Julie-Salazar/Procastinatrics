{% extends "base.html" %}

{% block title %}Friend Receipts{% endblock %}

{% block head_links %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/friend-receipts.css') }}">
{% endblock %}

{% block content %}
<h1 class="page-title">Friend Receipts</h1>

<!-- Carousel Container -->
<div class="carousel-container">
    <!-- Left Arrow -->
    <button class="carousel-arrow left-arrow" id="prevBtn">
        <img src="{{ url_for('static', filename='img/left-arrow.svg') }}" alt="Previous">
    </button>

    <!-- Receipt Display -->
    <div class="receipt-display">
        <!-- Only one receipt is shown at a time -->
        <img id="currentReceipt" src="{{ url_for('static', filename='img/receipt-sample.svg') }}" alt="Receipt">
    </div>

    <!-- Right Arrow -->
    <button class="carousel-arrow right-arrow" id="nextBtn">
        <img src="{{ url_for('static', filename='img/right-arrow.svg') }}" alt="Next">
    </button>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Receipt image sources (put all your receipt paths here)
        const receipts = [
            "{{ url_for('static', filename='img/receipt-sample.svg') }}",
            "{{ url_for('static', filename='img/julie-receipt-sample.svg') }}",
            "{{ url_for('static', filename='img/tyler-receipt-sample.svg') }}"
            // Add more receipts as needed
        ];

        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const currentReceipt = document.getElementById('currentReceipt');

        let currentIndex = 0;

        // Function to update displayed receipt
        function updateReceipt() {
            currentReceipt.src = receipts[currentIndex];

            // Update button states
            prevBtn.disabled = currentIndex === 0;
            prevBtn.style.opacity = currentIndex === 0 ? 0.5 : 1;
            nextBtn.disabled = currentIndex === receipts.length - 1;
            nextBtn.style.opacity = currentIndex === receipts.length - 1 ? 0.5 : 1;
        }

        // Previous button click
        prevBtn.addEventListener('click', function () {
            if (currentIndex > 0) {
                currentIndex--;
                updateReceipt();
            }
        });

        // Next button click
        nextBtn.addEventListener('click', function () {
            if (currentIndex < receipts.length - 1) {
                currentIndex++;
                updateReceipt();
            }
        });

        // Initialize
        updateReceipt();
    });
</script>
{% endblock %}